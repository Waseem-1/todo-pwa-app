(function(e){function t(t){for(var n,c,a=t[0],s=t[1],l=t[2],d=0,f=[];d<a.length;d++)c=a[d],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&f.push(r[c][0]),r[c]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);u&&u(t);while(f.length)f.shift()();return i.push.apply(i,l||[]),o()}function o(){for(var e,t=0;t<i.length;t++){for(var o=i[t],n=!0,a=1;a<o.length;a++){var s=o[a];0!==r[s]&&(n=!1)}n&&(i.splice(t--,1),e=c(c.s=o[0]))}return e}var n={},r={app:0},i=[];function c(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,c),o.l=!0,o.exports}c.m=e,c.c=n,c.d=function(e,t,o){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(c.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(o,n,function(t){return e[t]}.bind(null,n));return o},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/todo-pwa-app/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],s=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var u=s;i.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"1fb1":function(e,t,o){"use strict";o("a87f")},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("7a23"),r={class:"todoapp"},i={class:"header"},c=Object(n["d"])("h1",null,"todos",-1),a={class:"main"},s=Object(n["d"])("label",{for:"toggle-all"},"Mark all as complete",-1),l={class:"todo-list"},u={class:"view"},d=["onClick","checked"],f=["onDblclick"],b=["onClick"],p=["onUpdate:modelValue","onBlur","onKeyup"],h={class:"footer"},m={class:"todo-count"},v=["textContent"],j={class:"filters"},O=Object(n["d"])("footer",{class:"info"},[Object(n["d"])("p",null,"Double-click to edit a todo"),Object(n["d"])("p",null,[Object(n["e"])(" A Vue 3 iteration on "),Object(n["d"])("a",{href:"https://todomvc.com/examples/vue/"},"TodoMVC - Vue")])],-1);function g(e,t,o,g,w,y){return Object(n["g"])(),Object(n["c"])(n["a"],null,[Object(n["d"])("section",r,[Object(n["d"])("header",i,[c,Object(n["m"])(Object(n["d"])("input",{class:"new-todo",autofocus:"",autocomplete:"off",placeholder:"What needs to be done?","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.newTodo=t}),onKeyup:t[1]||(t[1]=Object(n["n"])((function(){return y.addTodo&&y.addTodo.apply(y,arguments)}),["enter"]))},null,544),[[n["k"],e.newTodo]])]),Object(n["m"])(Object(n["d"])("section",a,[Object(n["m"])(Object(n["d"])("input",{id:"toggle-all",class:"toggle-all",type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=function(e){return y.allDone=e})},null,512),[[n["j"],y.allDone]]),s,Object(n["d"])("ul",l,[(Object(n["g"])(!0),Object(n["c"])(n["a"],null,Object(n["h"])(y.filteredTodos,(function(t){return Object(n["g"])(),Object(n["c"])("li",{class:Object(n["f"])(["todo",{completed:t.completed,editing:t==e.editedTodo}]),key:t.id},[Object(n["d"])("div",u,[Object(n["d"])("input",{class:"toggle",type:"checkbox",onClick:function(e){return y.updateTodo(t)},checked:t.completed},null,8,d),Object(n["d"])("label",{onDblclick:function(e){return y.editTodo(t)}},Object(n["i"])(t.title),41,f),Object(n["d"])("button",{class:"destroy",onClick:function(e){return y.removeTodo(t)}},null,8,b)]),Object(n["m"])(Object(n["d"])("input",{class:"edit",type:"text","onUpdate:modelValue":function(e){return t.title=e},onBlur:function(e){},onKeyup:[Object(n["n"])((function(e){return y.doneEdit(t)}),["enter"]),Object(n["n"])((function(e){return y.cancelEdit(t)}),["esc"])]},null,40,p),[[n["k"],t.title]])],2)})),128))])],512),[[n["l"],e.todos.length]]),Object(n["m"])(Object(n["d"])("footer",h,[Object(n["d"])("span",m,[Object(n["d"])("strong",{textContent:Object(n["i"])(y.remaining)},null,8,v),Object(n["e"])(" "+Object(n["i"])(y.pluralize("item",y.remaining))+" left ",1)]),Object(n["d"])("ul",j,[Object(n["d"])("li",null,[Object(n["d"])("button",{onClick:t[3]||(t[3]=function(t){return e.visibility="all"}),class:Object(n["f"])([{selected:"all"==e.visibility},"btn"])}," All ",2)]),Object(n["d"])("li",null,[Object(n["d"])("button",{onClick:t[4]||(t[4]=function(t){return e.visibility="active"}),class:Object(n["f"])([{selected:"active"==e.visibility},"btn"])}," Active ",2)]),Object(n["d"])("li",null,[Object(n["d"])("button",{onClick:t[5]||(t[5]=function(t){return e.visibility="completed"}),class:Object(n["f"])([{selected:"completed"==e.visibility},"btn"])}," Completed ",2)])]),Object(n["m"])(Object(n["d"])("button",{class:"clear-completed",onClick:t[6]||(t[6]=function(){return y.removeCompleted&&y.removeCompleted.apply(y,arguments)})}," Clear completed ",512),[[n["l"],e.todos.length>y.remaining]])],512),[[n["l"],e.todos.length]])]),O],64)}var w=o("5530"),y=o("1da1"),T=(o("4de4"),o("d3b7"),o("159b"),o("498a"),o("a434"),o("7db0"),o("96cf"),{name:"App",data:function(){return{database:null,todos:[],newTodo:"",editedTodo:null,visibility:"all"}},created:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getTodosStore();case 2:e.todos=t.sent;case 3:case"end":return t.stop()}}),t)})))()},computed:{activeTasks:function(){return this.todos.filter((function(e){return!e.completed}))},filteredTodos:function(){return"all"===this.visibility?this.todos:"active"===this.visibility?this.activeTasks:this.todos.filter((function(e){return e.completed}))},remaining:function(){return this.activeTasks.length},allDone:{get:function(){return 0===this.remaining},set:function(e){var t=this;this.todos.forEach((function(o){o.completed=e,t.saveTodo(Object(w["a"])({},o))}))}}},methods:{addTodo:function(){var e=this.newTodo&&this.newTodo.trim(),t={id:this.todos.length+1,title:e,completed:!1};e&&(this.todos.push(t),this.saveTodo(t),this.newTodo="")},cancelEdit:function(e){this.editedTodo=null,e.title=this.beforeEditCache},doneEdit:function(e){this.editedTodo&&(this.editedTodo=null,e.title=e.title.trim(),this.saveTodo(Object(w["a"])(Object(w["a"])({},e),{},{title:e.title})),e.title||this.removeTodo(e))},editTodo:function(e){this.beforeEditCache=e.title,this.editedTodo=e},getDatabase:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,o){e.database&&t(e.database);var n=window.indexedDB.open("todomvcDB",1);n.onerror=function(e){console.error("ERROR: Unable to open database",e),o("Error")},n.onsuccess=function(o){e.database=o.target.result,t(e.database)},n.onupgradeneeded=function(e){var t=e.target.result;t.createObjectStore("todos",{autoIncrement:!0,keyPath:"id"})}})));case 1:case"end":return t.stop()}}),t)})))()},getTodosStore:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getDatabase();case 2:return e.database=t.sent,t.abrupt("return",new Promise((function(t,o){var n=e.database.transaction("todos","readonly"),r=n.objectStore("todos"),i=[];r.openCursor().onsuccess=function(e){var t=e.target.result;t&&(i.push(t.value),t.continue())},n.oncomplete=function(){t(i)},n.onerror=function(e){console.error("error"),o(e)}})));case 4:case"end":return t.stop()}}),t)})))()},pluralize:function(e,t){return e+(1===t?"":"s")},removeCompleted:function(){var e=this;this.todos=this.todos.filter((function(t){if(!t.completed)return!t.completed;e.deleteTodo(t)}))},removeTodo:function(e){var t=this.todos.indexOf(e);this.todos.splice(t,1),this.deleteTodo(e)},updateTodo:function(e){this.todos.find((function(t){return t===e})).completed=!e.completed,this.saveTodo(Object(w["a"])({},e))},saveTodo:function(e){var t=this;return Object(y["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,t.getDatabase();case 2:return t.database=o.sent,o.abrupt("return",new Promise((function(o,n){var r=t.database.transaction("todos","readwrite"),i=r.objectStore("todos");i.put(e),r.oncomplete=function(){o("Todo save successfully")},r.onerror=function(e){n(e)}})));case 4:case"end":return o.stop()}}),o)})))()},deleteTodo:function(e){var t=this;return Object(y["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,t.getDatabase();case 2:return t.database=o.sent,o.abrupt("return",new Promise((function(o,n){var r=t.database.transaction("todos","readwrite"),i=r.objectStore("todos");i.delete(e.id),r.oncomplete=function(){o("Todo delted successfully")},r.onerror=function(e){n(e)}})));case 4:case"end":return o.stop()}}),o)})))()}}}),k=(o("1fb1"),o("6b0d")),x=o.n(k);const C=x()(T,[["render",g]]);var R=C,D=o("9483");Object(D["a"])("".concat("/todo-pwa-app/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),Object(n["b"])(R).mount("#app")},a87f:function(e,t,o){}});
//# sourceMappingURL=app.dd67405b.js.map